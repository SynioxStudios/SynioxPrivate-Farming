local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/SynioxStudios/ByYusufGui-Syniox/refs/heads/main/SynioxGui.txt", true))()
local displayName = game.Players.LocalPlayer.DisplayName

local window = library:AddWindow("Syniox Paid | Muscle Legends || HELLO - ".. displayName, {
    title_bar = {
        Color3.fromRGB(160, 0, 0), 
        Color3.fromRGB(40, 0, 0),  
        Color3.fromRGB(0, 0, 0)    
    }, 
    title_bar_transparency = 0.1, 
    background = {
        Color3.fromRGB(0, 0, 0), 
        Color3.fromRGB(10, 10, 10), 
        Color3.fromRGB(20, 20, 20)
    }, 
    background_transparency = 0.1, 
    main_color = Color3.fromRGB(160, 0, 0), 
    min_size = Vector2.new(450, 450), 
    can_resize = true 
})

local player = game.Players.LocalPlayer
local muscleEvent = player:WaitForChild("muscleEvent")
local rEvents = game:GetService("ReplicatedStorage"):WaitForChild("rEvents")

local function getPing()
    local stats = game:GetService("Stats")
    local pingStat = stats:FindFirstChild("PerformanceStats") and stats.PerformanceStats:FindFirstChild("Ping")
    return pingStat and pingStat:GetValue() or 0
end

local function formatNumber(num)
    if num >= 1e15 then return string.format("%.2fQ", num/1e15) end
    if num >= 1e12 then return string.format("%.2fT", num/1e12) end
    if num >= 1e9 then return string.format("%.2fB", num/1e9) end
    if num >= 1e6 then return string.format("%.2fM", num/1e6) end
    if num >= 1e3 then return string.format("%.2fK", num/1e3) end
    return string.format("%.0f", num)
end

local function unequipAllPets()
    if player:FindFirstChild("petsFolder") then
        for _, folder in pairs(player.petsFolder:GetChildren()) do
            for _, pet in pairs(folder:GetChildren()) do
                rEvents.equipPetEvent:FireServer("unequipPet", pet)
            end
        end
    end
end

local function equipUniquePet(name)
    if player:FindFirstChild("petsFolder") and player.petsFolder:FindFirstChild("Unique") then
        for _, pet in pairs(player.petsFolder.Unique:GetChildren()) do
            if pet.Name == name then
                rEvents.equipPetEvent:FireServer("equipPet", pet)
                task.wait(0.01) 
            end
        end
    end
end

local function findMachine(machineName)
    local machine = workspace:FindFirstChild("machinesFolder") and workspace.machinesFolder:FindFirstChild(machineName)
    if not machine then
        for _, f in pairs(workspace:GetChildren()) do
            if f:IsA("Folder") and f.Name:find("machines") then
                machine = f:FindFirstChild(machineName)
                if machine then break end
            end
        end
    end
    return machine
end

local function pressE()
    local vim = game:GetService("VirtualInputManager")
    vim:SendKeyEvent(true, "E", false, game)
    task.wait(0.05)
    vim:SendKeyEvent(false, "E", false, game)
end

local tabRebirth = window:AddTab("Rebirth Farm")
local initialRebirths = player.leaderstats.Rebirths.Value
local startTime = tick()
local lastRebirthTime = tick()
local lastRebirthValue = initialRebirths

tabRebirth:AddLabel("Rebirth Session Stats").TextSize = 22
local timeLabel = tabRebirth:AddLabel("Time: 0d 0h 0m 0s")
local rebStatsLabel = tabRebirth:AddLabel("Rebirths: 0 | Gained: 0")
local paceLabel = tabRebirth:AddLabel("Pace: 0 / H | 0 / D")

player.leaderstats.Rebirths:GetPropertyChangedSignal("Value"):Connect(function()
    local now = tick()
    local gained = player.leaderstats.Rebirths.Value - lastRebirthValue
    if gained > 0 then
        local avgTime = (now - lastRebirthTime) / gained
        paceLabel.Text = string.format("Pace: %s/H | %s/D", formatNumber(3600/avgTime), formatNumber(86400/avgTime))
        lastRebirthTime = now
        lastRebirthValue = player.leaderstats.Rebirths.Value
    end
end)

task.spawn(function()
    while true do
        local elapsed = tick() - startTime
        local d = math.floor(elapsed / 86400)
        local h = math.floor((elapsed % 86400) / 3600)
        local m = math.floor((elapsed % 3600) / 60)
        local s = math.floor(elapsed % 60)
        timeLabel.Text = string.format("Time: %dd %dh %dm %ds", d, h, m, s)
        rebStatsLabel.Text = string.format("Rebirths: %s | Gained: %s", formatNumber(player.leaderstats.Rebirths.Value), formatNumber(player.leaderstats.Rebirths.Value - initialRebirths))
        task.wait(1)
    end
end)

local isRunning = false
tabRebirth:AddSwitch("ðŸ”„ Auto Rebirth (Ping Protected)", function(bool)
    isRunning = bool
    if not bool then return end
    task.spawn(function()
        while isRunning do
            if getPing() > 350 then task.wait(1) continue end
            local currentReb = player.leaderstats.Rebirths.Value
            local rebirthCost = 10000 + (5000 * currentReb)
            unequipAllPets()
            task.wait(0.1)
            equipUniquePet("Swift Samurai")
            while isRunning and player.leaderstats.Strength.Value < rebirthCost do
                if getPing() < 350 then
                    for i = 1, 12 do muscleEvent:FireServer("rep") end
                    task.wait(0.01)
                else
                    task.wait(1)
                end
            end
            if not isRunning then break end
            unequipAllPets()
            task.wait(0.1)
            equipUniquePet("Tribal Overlord")
            local machine = findMachine("Jungle Bar Lift")
            if machine and machine:FindFirstChild("interactSeat") then
                player.Character.HumanoidRootPart.CFrame = machine.interactSeat.CFrame * CFrame.new(0, 3, 0)
                local retry = 0
                repeat task.wait(0.2) pressE() retry = retry + 1 until (player.Character and player.Character.Humanoid.Sit) or retry > 20 or not isRunning
            end
            local before = player.leaderstats.Rebirths.Value
            repeat rEvents.rebirthRemote:InvokeServer("rebirthRequest") task.wait(0.5) until player.leaderstats.Rebirths.Value > before or not isRunning
        end
    end)
end)

tabRebirth:AddButton("ðŸ‹ï¸â€â™‚ï¸ Jungle Lift", function()
    player.Character.HumanoidRootPart.CFrame = CFrame.new(-8666, 34, 2070)
    task.wait(0.5)
    local machine = findMachine("Jungle Bar Lift")
    if machine and machine:FindFirstChild("interactSeat") then
        local retry = 0
        repeat task.wait(0.2) pressE() retry = retry + 1 until (player.Character and player.Character.Humanoid.Sit) or retry > 10
    end
end)

tabRebirth:AddButton("ðŸ¦µ Jungle Squat", function()
    player.Character.HumanoidRootPart.CFrame = CFrame.new(-8377, 48, 2864)
    task.wait(0.5)
    local machine = findMachine("Jungle Squat Rack") or findMachine("Squat Rack")
    if machine and machine:FindFirstChild("interactSeat") then
        local retry = 0
        repeat task.wait(0.2) pressE() retry = retry + 1 until (player.Character and player.Character.Humanoid.Sit) or retry > 10
    end
end)

local tabStrength = window:AddTab("Strength Farm")
local strengthOnly = false
local repSpeed = 0.01
local initialStrength = player.leaderstats.Strength.Value
local strengthHistory = {}

tabStrength:AddLabel("Strength Session Stats").TextSize = 22
local sStatsLabel = tabStrength:AddLabel("Strength: 0 | Gained: 0")
local sPaceLabel = tabStrength:AddLabel("Pace: 0 / H | 0 / D")

task.spawn(function()
    while true do
        local curStr = player.leaderstats.Strength.Value
        local now = tick()
        sStatsLabel.Text = string.format("Strength: %s | Gained: %s", formatNumber(curStr), formatNumber(curStr - initialStrength))
        table.insert(strengthHistory, {time = now, value = curStr})
        while #strengthHistory > 0 and now - strengthHistory[1].time > 10 do table.remove(strengthHistory, 1) end
        if #strengthHistory >= 2 then
            local perSec = (strengthHistory[#strengthHistory].value - strengthHistory[1].value) / 10
            sPaceLabel.Text = string.format("Pace: %s/H | %s/D", formatNumber(perSec * 3600), formatNumber(perSec * 86400))
        end
        task.wait(1)
    end
end)

tabStrength:AddLabel("Recommended Speed: 23").TextSize = 18
tabStrength:AddTextBox("Rep Speed / Thread", function(val)
    local n = tonumber(val)
    if n then repSpeed = n end
end)

tabStrength:AddSwitch("ðŸ’¢ Auto Strength", function(bool)
    strengthOnly = bool
    if not bool then return end
    task.spawn(function()
        unequipAllPets()
        task.wait(0.1)
        equipUniquePet("Swift Samurai")
        while strengthOnly do
            if getPing() < 350 then
                for i = 1, 23 do muscleEvent:FireServer("rep") end
                task.wait(repSpeed)
            else
                task.wait(1)
            end
        end
    end)
end)

tabStrength:AddButton("ðŸ‹ï¸â€â™‚ï¸ Jungle Lift", function()
    player.Character.HumanoidRootPart.CFrame = CFrame.new(-8666, 34, 2070)
    task.wait(0.5)
    local machine = findMachine("Jungle Bar Lift")
    if machine and machine:FindFirstChild("interactSeat") then
        local retry = 0
        repeat task.wait(0.2) pressE() retry = retry + 1 until (player.Character and player.Character.Humanoid.Sit) or retry > 10
    end
end)

tabStrength:AddButton("ðŸ¦µ Jungle Squat", function()
    player.Character.HumanoidRootPart.CFrame = CFrame.new(-8377, 48, 2864)
    task.wait(0.5)
    local machine = findMachine("Jungle Squat Rack") or findMachine("Squat Rack")
    if machine and machine:FindFirstChild("interactSeat") then
        local retry = 0
        repeat task.wait(0.2) pressE() retry = retry + 1 until (player.Character and player.Character.Humanoid.Sit) or retry > 10
    end
end)
