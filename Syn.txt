local Players = game:GetService("Players")
local player = Players.LocalPlayer
local VirtualInputManager = game:GetService("VirtualInputManager")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local muscleEvent = player:WaitForChild("muscleEvent")
local leaderstats = player:WaitForChild("leaderstats")
local rebirthsStat = leaderstats:WaitForChild("Rebirths")
local rEvents = ReplicatedStorage:WaitForChild("rEvents")

local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/SynioxStudios/Syn-Paid-Ui/refs/heads/main/SynioxGui.txt", true))()
local displayName = player.DisplayName

local window = library:AddWindow("Syniox Paid | Muscle Legends || HELLO - ".. displayName, {
    title_bar = {
        Color3.fromRGB(180, 0, 255),
        Color3.fromRGB(60, 0, 100),
        Color3.fromRGB(0, 0, 0)
    }, 
    title_bar_transparency = 0.1, 
    background = {
        Color3.fromRGB(10, 5, 15),
        Color3.fromRGB(15, 10, 25),
        Color3.fromRGB(0, 0, 0)
    }, 
    background_transparency = 0.1, 
    main_color = Color3.fromRGB(104, 34, 139),
    min_size = Vector2.new(450, 350), 
    can_resize = true 
})

local RebTab = window:AddTab("Fast Rebirth")

local isRunning = false
local startTime = 0
local totalElapsed = 0
local initialRebirths = rebirthsStat.Value
local lastRebirthTime = tick()
local lastRebirthValue = rebirthsStat.Value
local rebirthCount = 0

local paceHistoryHour, paceHistoryDay, paceHistoryWeek = {}, {}, {}
local maxHistoryLength = 20

local function formatNumber(num)
    if num >= 1e15 then return string.format("%.2fQ", num/1e15) end
    if num >= 1e12 then return string.format("%.2fT", num/1e12) end
    if num >= 1e9 then return string.format("%.2fB", num/1e9) end
    if num >= 1e6 then return string.format("%.2fM", num/1e6) end
    if num >= 1e3 then return string.format("%.2fK", num/1e3) end
    return string.format("%.0f", num)
end

local function unequipAllPets()
    if player:FindFirstChild("petsFolder") then
        for _, folder in pairs(player.petsFolder:GetChildren()) do
            for _, pet in pairs(folder:GetChildren()) do
                rEvents.equipPetEvent:FireServer("unequipPet", pet)
            end
        end
    end
end

local function equipUniquePet(name)
    if player:FindFirstChild("petsFolder") and player.petsFolder:FindFirstChild("Unique") then
        for _, pet in pairs(player.petsFolder.Unique:GetChildren()) do
            if pet.Name == name then
                rEvents.equipPetEvent:FireServer("equipPet", pet)
                task.wait(0.01) 
            end
        end
    end
end

local function findMachine(machineName)
    local machine = workspace:FindFirstChild("machinesFolder") and workspace.machinesFolder:FindFirstChild(machineName)
    if not machine then
        for _, f in pairs(workspace:GetChildren()) do
            if f:IsA("Folder") and f.Name:find("machines") then
                machine = f:FindFirstChild(machineName)
                if machine then break end
            end
        end
    end
    return machine
end

local function pressE()
    VirtualInputManager:SendKeyEvent(true, "E", false, game)
    task.wait(0.05)
    VirtualInputManager:SendKeyEvent(false, "E", false, game)
end

local timeLabel = RebTab:AddLabel("0d 0h 0m 0s - Paused")
timeLabel.TextColor3 = Color3.fromRGB(255, 50, 50)
local paceLabel = RebTab:AddLabel("Pace: 0 / Hour | 0 / Day | 0 / Week")
local averagePaceLabel = RebTab:AddLabel("Average Pace: 0 / Hour | 0 / Day | 0 / Week")
local rebirthsStatsLabel = RebTab:AddLabel("Rebirths: "..formatNumber(rebirthsStat.Value).." | Gained: 0")

local function updateUI()
    local currentTime = tick()
    local elapsed = isRunning and (currentTime - startTime + totalElapsed) or totalElapsed
    local days = math.floor(elapsed / 86400)
    local hours = math.floor((elapsed % 86400) / 3600)
    local minutes = math.floor((elapsed % 3600) / 60)
    local seconds = math.floor(elapsed % 60)
    
    timeLabel.Text = string.format("%dd %dh %dm %ds - %s", days, hours, minutes, seconds, isRunning and "Rebirthing" or "Paused")
    timeLabel.TextColor3 = isRunning and Color3.fromRGB(50, 255, 50) or Color3.fromRGB(255, 50, 50)
end

local function calculatePaceOnRebirth()
    rebirthCount = rebirthCount + 1
    if rebirthCount < 2 then
        lastRebirthTime, lastRebirthValue = tick(), rebirthsStat.Value
        return
    end
    local now = tick()
    local gained = rebirthsStat.Value - lastRebirthValue
    if gained > 0 then
        local avgTime = (now - lastRebirthTime) / gained
        local pH, pD, pW = 3600/avgTime, 86400/avgTime, 604800/avgTime
        paceLabel.Text = string.format("Pace: %s/H | %s/D | %s/W", formatNumber(pH), formatNumber(pD), formatNumber(pW))
        table.insert(paceHistoryHour, pH)
        table.insert(paceHistoryDay, pD)
        table.insert(paceHistoryWeek, pW)
        if #paceHistoryHour > maxHistoryLength then
            table.remove(paceHistoryHour, 1) table.remove(paceHistoryDay, 1) table.remove(paceHistoryWeek, 1)
        end
        local function avg(tbl)
            local s = 0 for _, v in ipairs(tbl) do s = s + v end
            return #tbl > 0 and (s / #tbl) or 0
        end
        averagePaceLabel.Text = string.format("Avg Pace: %s/H | %s/D | %s/W", formatNumber(avg(paceHistoryHour)), formatNumber(avg(paceHistoryDay)), formatNumber(avg(paceHistoryWeek)))
        lastRebirthTime, lastRebirthValue = now, rebirthsStat.Value
    end
end

RebTab:AddLabel("-------------------------")

RebTab:AddSwitch("üîÑ Auto Rebirth Farm", function(state)
    isRunning = state
    if state then
        startTime = tick()
        task.spawn(function()
            while isRunning do
                local cReb = rebirthsStat.Value
                local cost = 10000 + (5000 * cReb)
                if player.ultimatesFolder:FindFirstChild("Golden Rebirth") then
                    cost = math.floor(cost * (1 - (player.ultimatesFolder["Golden Rebirth"].Value * 0.1)))
                end
                unequipAllPets()
                task.wait(0.1)
                equipUniquePet("Swift Samurai")
                while isRunning and player.leaderstats.Strength.Value < cost do
                    for i = 1, 12 do muscleEvent:FireServer("rep") end
                    task.wait(0.01)
                end
                if not isRunning then break end
                unequipAllPets()
                task.wait(0.1)
                equipUniquePet("Tribal Overlord")
                local machine = findMachine("Jungle Bar Lift")
                if machine and machine:FindFirstChild("interactSeat") then
                    player.Character.HumanoidRootPart.CFrame = machine.interactSeat.CFrame * CFrame.new(0, 3, 0)
                    local r = 0 repeat task.wait(0.2) pressE() r = r + 1 until (player.Character and player.Character.Humanoid.Sit) or r > 20 or not isRunning
                end
                local b = rebirthsStat.Value
                repeat rEvents.rebirthRemote:InvokeServer("rebirthRequest") task.wait(0.5) until rebirthsStat.Value > b or not isRunning
            end
        end)
    else
        totalElapsed = totalElapsed + (tick() - startTime)
    end
end)

rebirthsStat:GetPropertyChangedSignal("Value"):Connect(function()
    calculatePaceOnRebirth()
    rebirthsStatsLabel.Text = string.format("Rebirths: %s | Gained: %s", formatNumber(rebirthsStat.Value), formatNumber(rebirthsStat.Value - initialRebirths))
end)

task.spawn(function()
    while true do updateUI() task.wait(1) end
end)

RebTab:AddButton("üèãÔ∏è‚Äç‚ôÇÔ∏è Jungle Lift", function()
    local character = player.Character
    if character and character:FindFirstChild("HumanoidRootPart") then
        character.HumanoidRootPart.CFrame = CFrame.new(-8666, 34, 2070)
        task.wait(0.5)
        local machine = findMachine("Jungle Bar Lift")
        if machine and machine:FindFirstChild("interactSeat") then
            local retryCount = 0
            repeat
                task.wait(0.2)
                pressE()
                retryCount = retryCount + 1
            until (player.Character and player.Character.Humanoid.Sit) or retryCount > 10
        end
    end
end)

RebTab:AddButton("üè¥ Full FPS Boost", function()
    local lighting = game:GetService("Lighting")
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj:IsA("ParticleEmitter") or obj:IsA("PointLight") or obj:IsA("SpotLight") then
            obj:Destroy()
        end
    end
    lighting.Brightness = 0
    lighting.OutdoorAmbient = Color3.new(0, 0, 0)
    for _, v in pairs(lighting:GetChildren()) do if v:IsA("Sky") then v:Destroy() end end
end)

RebTab:AddSwitch("üëÅÔ∏è‚Äçüó®Ô∏è Hide All Frames", function(state)
    for _, obj in pairs(game:GetService("ReplicatedStorage"):GetChildren()) do
        if obj.Name:match("Frame$") then obj.Visible = not state end
    end
end)

RebTab:AddSwitch("üé∞ Auto Fortune Wheel", function(Value)
    _G.autoFortuneWheelActive = Value
    if Value then
        local function openFortuneWheel()
            while _G.autoFortuneWheelActive do
                local args = {
                    [1] = "openFortuneWheel",
                    [2] = game:GetService("ReplicatedStorage"):WaitForChild("fortuneWheelChances"):WaitForChild("Fortune Wheel")
                }
                game:GetService("ReplicatedStorage"):WaitForChild("rEvents"):WaitForChild("openFortuneWheelRemote"):InvokeServer(unpack(args))
                wait(0)
            end
        end
        coroutine.wrap(openFortuneWheel)()
    else
        _G.autoFortuneWheelActive = false
    end
end)

local StrTab = window:AddTab("Fast Strength")

local strengthStat = leaderstats:WaitForChild("Strength")
local durabilityStat = player:WaitForChild("Durability")
local runFastRep = false
local repsPerTick = 23 
local initialStrength = strengthStat.Value
local initialDurability = durabilityStat.Value
local strengthHistory = {}
local durabilityHistory = {}
local calculationInterval = 10
local strStartTime = tick()
local strTotalElapsed = 0

local function formatNumber(num)
    if num >= 1e15 then return string.format("%.2fQa", num/1e15) end
    if num >= 1e12 then return string.format("%.2fT", num/1e12) end
    if num >= 1e9 then return string.format("%.2fB", num/1e9) end
    if num >= 1e6 then return string.format("%.2fM", num/1e6) end
    if num >= 1e3 then return string.format("%.2fK", num/1e3) end
    return string.format("%.0f", num)
end

local function getPing()
    local stats = game:GetService("Stats")
    local pingStat = stats:FindFirstChild("PerformanceStats") and stats.PerformanceStats:FindFirstChild("Ping")
    return pingStat and pingStat:GetValue() or 0
end

StrTab:AddLabel("Session Stats").TextSize = 23
local strTimeLabel = StrTab:AddLabel("Time: 0d 0h 0m 0s - Paused")
strTimeLabel.TextColor3 = Color3.fromRGB(255, 50, 50)

local strengthLabel = StrTab:AddLabel("Strength: " .. formatNumber(strengthStat.Value) .. " | Gained: 0")
local sPaceLabel = StrTab:AddLabel("Strength Pace: 0/H | 0/D")
local durabilityLabel = StrTab:AddLabel("Durability: " .. formatNumber(durabilityStat.Value) .. " | Gained: 0")
local dPaceLabel = StrTab:AddLabel("Durability Pace: 0/H | 0/D")

StrTab:AddLabel("Settings").TextSize = 21

StrTab:AddTextBox("Rep Speed", function(value)
    local num = tonumber(value)
    if num and num > 0 then repsPerTick = math.floor(num) end
end, {placeholder = "Vuru≈ü: 23"})

local function fastRepLoop()
    while runFastRep do
        if getPing() < 350 then
            for i = 1, repsPerTick do
                if not runFastRep then break end
                muscleEvent:FireServer("rep")
            end
        else
            repeat task.wait(1) until getPing() < 350 or not runFastRep
        end
        task.wait(0.01)
    end
end

StrTab:AddSwitch("üí¢ Auto Strength Farm", function(state)
    runFastRep = state
    if state then
        strStartTime = tick()
        unequipAllPets()
        task.wait(0.1)
        equipUniquePet("Swift Samurai")
        task.spawn(fastRepLoop)
    else
        strTotalElapsed = strTotalElapsed + (tick() - strStartTime)
    end
end)

task.spawn(function()
    local lastCalcTime = tick()
    while true do
        local currentTime = tick()
        local elapsed = runFastRep and (currentTime - strStartTime + strTotalElapsed) or strTotalElapsed
        local days = math.floor(elapsed / 86400)
        local hours = math.floor((elapsed % 86400) / 3600)
        local minutes = math.floor((elapsed % 3600) / 60)
        local seconds = math.floor(elapsed % 60)
        
        strTimeLabel.Text = string.format("Time: %dd %dh %dm %ds - %s", days, hours, minutes, seconds, runFastRep and "Farming" or "Paused")
        strTimeLabel.TextColor3 = runFastRep and Color3.fromRGB(50, 255, 50) or Color3.fromRGB(255, 50, 50)

        local currentStr = strengthStat.Value
        local currentDur = durabilityStat.Value
        
        strengthLabel.Text = "Strength: " .. formatNumber(currentStr) .. " | Gained: " .. formatNumber(currentStr - initialStrength)
        durabilityLabel.Text = "Durability: " .. formatNumber(currentDur) .. " | Gained: " .. formatNumber(currentDur - initialDurability)

        if runFastRep then
            table.insert(strengthHistory, {time = currentTime, value = currentStr})
            table.insert(durabilityHistory, {time = currentTime, value = currentDur})
            
            while #strengthHistory > 0 and currentTime - strengthHistory[1].time > calculationInterval do table.remove(strengthHistory, 1) end
            while #durabilityHistory > 0 and currentTime - durabilityHistory[1].time > calculationInterval do table.remove(durabilityHistory, 1) end

            if currentTime - lastCalcTime >= calculationInterval then
                lastCalcTime = currentTime
                if #strengthHistory >= 2 then
                    local sDelta = strengthHistory[#strengthHistory].value - strengthHistory[1].value
                    sPaceLabel.Text = string.format("Strength Pace: %s/H | %s/D", formatNumber((sDelta/calculationInterval) * 3600), formatNumber((sDelta/calculationInterval) * 86400))
                end
                if #durabilityHistory >= 2 then
                    local dDelta = durabilityHistory[#durabilityHistory].value - durabilityHistory[1].value
                    dPaceLabel.Text = string.format("Durability Pace: %s/H | %s/D", formatNumber((dDelta/calculationInterval) * 3600), formatNumber((dDelta/calculationInterval) * 86400))
                end
            end
        end
        task.wait(0.1)
    end
end)

StrTab:AddLabel("Misc").TextSize = 21

StrTab:AddButton("ü¶µ Jungle Squat", function()
    local character = player.Character
    if character and character:FindFirstChild("HumanoidRootPart") then
        character.HumanoidRootPart.CFrame = CFrame.new(-8377.55, 48.71, 2864.90)
        task.wait(0.5)
        local machine = findMachine("Jungle Squat Rack") or findMachine("Squat Rack")
        if machine and machine:FindFirstChild("interactSeat") then
            local retry = 0
            repeat task.wait(0.2); pressE(); retry = retry + 1 until (player.Character and player.Character.Humanoid.Sit) or retry > 10
        end
    end
end)

StrTab:AddSwitch("ü•ö Auto Eat Egg (30 Min)", function(state)
    autoEatEnabled = state
    if state then
        task.spawn(function()
            while autoEatEnabled do
                local egg = player.Backpack:FindFirstChild("Protein Egg")
                if egg then
                    egg.Parent = player.Character
                    pcall(function() egg:Activate() end)
                end
                task.wait(1800)
            end
        end)
    end
end)

StrTab:AddSwitch("üìå Lock Position", function(state)
    if state then
        local currentPos = player.Character.HumanoidRootPart.CFrame
        getgenv().posLock = game:GetService("RunService").Heartbeat:Connect(function()
            if player.Character:FindFirstChild("HumanoidRootPart") then
                player.Character.HumanoidRootPart.CFrame = currentPos
            end
        end)
    else
        if getgenv().posLock then
            getgenv().posLock:Disconnect()
            getgenv().posLock = nil
        end
    end
end)

StrTab:AddSwitch("üëÅÔ∏è‚Äçüó®Ô∏è Hide All Frames", function(state)
    for _, obj in pairs(game:GetService("ReplicatedStorage"):GetChildren()) do
        if obj.Name:match("Frame$") then obj.Visible = not state end
    end
end)

StrTab:AddSwitch("‚è≥ Anti Afk", function(Value)
    if Value then
        _G.AntiAfkActive = true
        
        local vu = game:GetService("VirtualUser")
        local TweenService = game:GetService("TweenService")
        local RunService = game:GetService("RunService")
        local Stats = game:GetService("Stats")

        antiAfkConnection = game:GetService("Players").LocalPlayer.Idled:Connect(function()
            if _G.AntiAfkActive then
                vu:CaptureController()
                vu:ClickButton2(Vector2.new())
            end
        end)

        -- GUI - Minimalist Side Badge
        local ScreenGui = Instance.new("ScreenGui")
        local MainFrame = Instance.new("Frame")
        local UICorner = Instance.new("UICorner")
        local UIStroke = Instance.new("UIStroke")
        local ContentFrame = Instance.new("Frame")
        local UIListLayout = Instance.new("UIListLayout")

        ScreenGui.Name = "Str_Premium_AFK"
        ScreenGui.Parent = game:GetService("CoreGui")

        -- Ana G√∂vde (Minimalist & Dark)
        MainFrame.Name = "MainFrame"
        MainFrame.Parent = ScreenGui
        MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
        MainFrame.BackgroundTransparency = 0.2
        MainFrame.BorderSizePixel = 0
        MainFrame.Position = UDim2.new(1, 20, 0.5, -50) -- Saƒüdan giri≈ü i√ßin dƒ±≈üarƒ±da
        MainFrame.Size = UDim2.new(0, 140, 0, 95)
        
        UICorner.CornerRadius = UDim.new(0, 12)
        UICorner.Parent = MainFrame

        -- ƒ∞nce ≈üƒ±k kenarlƒ±k
        UIStroke.Parent = MainFrame
        UIStroke.Thickness = 1.5
        UIStroke.Color = Color3.fromRGB(40, 40, 40) -- Kƒ±rmƒ±zƒ± yerine koyu gri (daha premium)
        UIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

        -- ƒ∞√ßerik D√ºzeni
        ContentFrame.Parent = MainFrame
        ContentFrame.BackgroundTransparency = 1
        ContentFrame.Size = UDim2.new(1, 0, 1, 0)
        
        UIListLayout.Parent = ContentFrame
        UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
        UIListLayout.Padding = UDim.new(0, 2)
        UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        UIListLayout.VerticalAlignment = Enum.VerticalAlignment.Center

        local function CreateRow(icon, color)
            local lbl = Instance.new("TextLabel")
            lbl.Parent = ContentFrame
            lbl.Size = UDim2.new(1, -20, 0, 25)
            lbl.BackgroundTransparency = 1
            lbl.TextColor3 = Color3.fromRGB(255, 255, 255)
            lbl.TextSize = 13
            lbl.Font = Enum.Font.GothamMedium
            lbl.RichText = true
            lbl.Text = string.format("<font color='rgb(%d,%d,%d)'>%s</font> --", color.R*255, color.G*255, color.B*255, icon)
            lbl.TextXAlignment = Enum.TextXAlignment.Left
            return lbl
        end

        -- ƒ∞konlar (Lucide stilinde sade)
        local TimerLabel = CreateRow("üïí", Color3.fromRGB(255, 50, 50))
        local FPSLabel = CreateRow("üöÄ", Color3.fromRGB(50, 255, 100))
        local MSLabel = CreateRow("üì°", Color3.fromRGB(50, 150, 255))

        -- Geli≈ü Animasyonu (Saƒüdan kayarak oturma)
        TweenService:Create(MainFrame, TweenInfo.new(0.6, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
            Position = UDim2.new(1, -155, 0.5, -50)
        }):Play()

        -- Update D√∂ng√ºs√º
        local startTime = os.time()
        task.spawn(function()
            while _G.AntiAfkActive do
                local diff = os.time() - startTime
                TimerLabel.Text = string.format("<font color='rgb(255,50,50)'>üïí</font> %02d:%02d:%02d", math.floor(diff/3600), math.floor((diff%3600)/60), diff%60)
                FPSLabel.Text = string.format("<font color='rgb(50,255,100)'>üöÄ</font> %d FPS", math.floor(1 / RunService.RenderStepped:Wait()))
                MSLabel.Text = string.format("<font color='rgb(50,150,255)'>üì°</font> %d MS", math.floor(Stats.Network.ServerStatsItem["Data Ping"]:GetValue()))
                task.wait(0.5)
            end
        end)

    else
        _G.AntiAfkActive = false
        if antiAfkConnection then antiAfkConnection:Disconnect() end
        local oldGui = game:GetService("CoreGui"):FindFirstChild("Str_Premium_AFK")
        if oldGui then
            local frame = oldGui:FindFirstChild("MainFrame")
            TweenService:Create(frame, TweenInfo.new(0.4), {Position = UDim2.new(1, 20, 0.5, -50)}):Play()
            task.wait(0.4)
            oldGui:Destroy()
        end
    end
end)

local sizeSwitch = StrTab:AddSwitch("Auto Size 2", function(bool)
    _G.autoSizeActive = bool
    
    if bool then
        spawn(function()
            while _G.autoSizeActive and wait() do
                game:GetService("ReplicatedStorage").rEvents.changeSpeedSizeRemote:InvokeServer("changeSize", 2)
            end
        end)
    end
end, "Size 2")

local Main = window:AddTab("Main")

Main:AddButton("üíé Gamepass AutoLift", function()
    local gamepassFolder = game:GetService("ReplicatedStorage").gamepassIds
    local player = game:GetService("Players").LocalPlayer
    for _, gamepass in pairs(gamepassFolder:GetChildren()) do
        local value = Instance.new("IntValue")
        value.Name = gamepass.Name
        value.Value = gamepass.Value
        value.Parent = player.ownedGamepasses
    end
end, "üîì Unlock AutoLift Passe")

_G.repToggle = false
Main:AddSwitch("üí™ Fast Auto Farm (Equip Any tool)", function(state)
    _G.repToggle = state
    task.spawn(function()
        while _G.repToggle do
            local event = game:GetService("Players").LocalPlayer:FindFirstChild("muscleEvent")
            if event then
                event:FireServer("rep")
            end
            task.wait(0.01)
        end
    end)
end)

local folder1 = Main:AddFolder(" üí™ Tools V2")

local function manageTool(toolName)
    task.spawn(function()
        while _G[toolName.."On"] do
            local player = game.Players.LocalPlayer
            local character = player.Character
            
            if character then
                local tool = character:FindFirstChild(toolName) or player.Backpack:FindFirstChild(toolName)
                
                if tool then
                    if tool.Parent ~= character then
                        tool.Parent = character
                    end
                    
                    local event = player:FindFirstChild("muscleEvent")
                    if event then
                        event:FireServer("rep")
                    else
                        tool:Activate()
                    end
                end
            end
            task.wait(0.01)
        end

        local player = game.Players.LocalPlayer
        local character = player.Character
        if character then
            local tool = character:FindFirstChild(toolName)
            if tool then
                tool.Parent = player.Backpack
            end
        end
    end)
end

folder1:AddSwitch("üèãÔ∏è Weight", function(bool)
    _G.WeightOn = bool
    if bool then manageTool("Weight") end
end)

folder1:AddSwitch("üí™ Pushups", function(bool)
    _G.PushupsOn = bool
    if bool then manageTool("Pushups") end
end)

folder1:AddSwitch("ü§∏ Handstands", function(bool)
    _G.HandstandsOn = bool
    if bool then manageTool("Handstands") end
end)

folder1:AddSwitch("üßò Situps", function(bool)
    _G.SitupsOn = bool
    if bool then manageTool("Situps") end
end)

local VirtualInputManager = game:GetService("VirtualInputManager")
local Player = game.Players.LocalPlayer
local RunService = game:GetService("RunService")

local TreadmillFolder = Main:AddFolder("üèÉ‚Äç‚ôÇÔ∏è Treadmill Farm")

local TreadmillLocations = {
    ["Jungle Treadmill +8 xp"] = Vector3.new(-8131.86, 25.77, 2818.17),
    ["Legends Treadmill +7 xp"] = Vector3.new(4365.82, 997.14, -3632.9),
    ["Mythical Treadmill +6 xp"] = Vector3.new(2661.67, 19.41, 932.09),
    ["Spawn Treadmill +5 xp"] = Vector3.new(-230.43, 8.16, -102.18),
    ["Tiny Treadmill +1 xp"] = Vector3.new(55.64, 5.16, 1947.60)
}

local activeTreadmill = false
local treadmillConn = nil

local function stopTreadmill()
    activeTreadmill = false
    if treadmillConn then
        treadmillConn:Disconnect()
        treadmillConn = nil
    end
    VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.W, false, game)
end

local function startTreadmill(pos)
    stopTreadmill()
    activeTreadmill = true
    
    local hrp = Player.Character and Player.Character:FindFirstChild("HumanoidRootPart")
    if hrp then
        hrp.CFrame = CFrame.new(pos + Vector3.new(0, 3, 0))
        task.wait(0.3)
        local lockCF = hrp.CFrame
        treadmillConn = RunService.Heartbeat:Connect(function()
            if activeTreadmill and Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") then
                Player.Character.HumanoidRootPart.CFrame = lockCF
                VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.W, false, game)
            end
        end)
    end
end

TreadmillFolder:AddButton("üåø Start Jungle +8 xp", function()
    startTreadmill(TreadmillLocations["Jungle Treadmill +8 xp"])
end)

TreadmillFolder:AddButton("üî± Start Legends +7 xp", function()
    startTreadmill(TreadmillLocations["Legends Treadmill +7 xp"])
end)

TreadmillFolder:AddButton("‚ú® Start Mythical +6 xp", function()
    startTreadmill(TreadmillLocations["Mythical Treadmill +6 xp"])
end)

TreadmillFolder:AddButton("üè† Start Spawn +5 xp", function()
    startTreadmill(TreadmillLocations["Spawn Treadmill +5 xp"])
end)

TreadmillFolder:AddButton("üëü Start Tiny +1 xp", function()
    startTreadmill(TreadmillLocations["Tiny Treadmill +1 xp"])
end)

TreadmillFolder:AddButton("‚õî Stop Treadmill Farm", function()
    stopTreadmill()
end)

local VIM = game:GetService("VirtualInputManager")
local Player = game.Players.LocalPlayer
local LiftFolder = Main:AddFolder("üèãÔ∏è‚Äç‚ôÇÔ∏è Lift Farm")

local function createLiftFarm(name, cf)
    local active = false
    LiftFolder:AddSwitch(name, function(bool)
        active = bool
        if bool then
            task.spawn(function()
                while active do
                    local char = Player.Character
                    local hrp = char and char:FindFirstChild("HumanoidRootPart")
                    if hrp then
                        if (hrp.Position - cf.Position).Magnitude > 5 then
                            hrp.CFrame = cf
                            task.wait(0.3)
                            VIM:SendKeyEvent(true, Enum.KeyCode.E, false, game)
                            task.wait(0.05)
                            VIM:SendKeyEvent(false, Enum.KeyCode.E, false, game)
                        end
                        local event = Player:FindFirstChild("muscleEvent")
                        if event then event:FireServer("rep") end
                    end
                    task.wait(0.01)
                end
            end)
        end
    end)
end

createLiftFarm("üå¥ Jungle Lift", CFrame.new(-8652.85, 45.22, 2088.99))
createLiftFarm("üëë Muscle King Lift", CFrame.new(-8774.03, 52.15, -5664.10))
createLiftFarm("üåü Legends Lift", CFrame.new(4532.02, 1025.80, -4002.15))
createLiftFarm("üîÆ Mythical Lift", CFrame.new(2486.75, 31.91, 847.89))
createLiftFarm("‚ùÑÔ∏è Frost Lift", CFrame.new(-2917.62, 42.60, -211.29))

local BenchFolder = Main:AddFolder("üí™ Bench Farm")

local function createBenchFarm(name, cf)
    local active = false
    BenchFolder:AddSwitch(name, function(bool)
        active = bool
        if bool then
            task.spawn(function()
                while active do
                    local char = Player.Character
                    local hrp = char and char:FindFirstChild("HumanoidRootPart")
                    if hrp then
                        if (hrp.Position - cf.Position).Magnitude > 5 then
                            hrp.CFrame = cf
                            task.wait(0.3)
                            VIM:SendKeyEvent(true, Enum.KeyCode.E, false, game)
                            task.wait(0.05)
                            VIM:SendKeyEvent(false, Enum.KeyCode.E, false, game)
                        end
                        local event = Player:FindFirstChild("muscleEvent")
                        if event then event:FireServer("rep") end
                    end
                    task.wait(0.01)
                end
            end)
        end
    end)
end

createBenchFarm("üå¥ Jungle Bench", CFrame.new(-8173.23, 83.82, 1907.40))
createBenchFarm("üëë Muscle King Bench", CFrame.new(-8589.43, 58.00, -6044.57))
createBenchFarm("üåü Legends Bench", CFrame.new(4109.20, 1035.67, -3802.88))
createBenchFarm("üîÆ Mythical Bench", CFrame.new(2370.74, 57.09, 1243.37))
createBenchFarm("‚ùÑÔ∏è Frost Bench", CFrame.new(-3022.97, 41.31, -197.51))

local SquatFolder = Main:AddFolder("ü¶µ Squat Farm")

local function createSquatFarm(name, cf)
    local active = false
    SquatFolder:AddSwitch(name, function(bool)
        active = bool
        if bool then
            task.spawn(function()
                while active do
                    local char = Player.Character
                    local hrp = char and char:FindFirstChild("HumanoidRootPart")
                    if hrp then
                        if (hrp.Position - cf.Position).Magnitude > 5 then
                            hrp.CFrame = cf
                            task.wait(0.3)
                            VIM:SendKeyEvent(true, Enum.KeyCode.E, false, game)
                            task.wait(0.05)
                            VIM:SendKeyEvent(false, Enum.KeyCode.E, false, game)
                        end
                        local event = Player:FindFirstChild("muscleEvent")
                        if event then event:FireServer("rep") end
                    end
                    task.wait(0.01)
                end
            end)
        end
    end)
end

createSquatFarm("üå¥ Jungle Squat", CFrame.new(-8377.55, 48.71, 2864.90))
createSquatFarm("üëë Muscle King Squat", CFrame.new(-8759.62, 46.50, -6041.16))
createSquatFarm("üåü Legends Squat", CFrame.new(4438.74, 1021.38, -4058.46))
createSquatFarm("‚ùÑÔ∏è Frost Squat", CFrame.new(-2720.66, 27.85, -590.72))

local BoulderFolder = Main:AddFolder("üóø Boulder Farm")

local function createBoulderFarm(name, cf)
    local active = false
    BoulderFolder:AddSwitch(name, function(bool)
        active = bool
        if bool then
            task.spawn(function()
                while active do
                    local char = Player.Character
                    local hrp = char and char:FindFirstChild("HumanoidRootPart")
                    if hrp then
                        if (hrp.Position - cf.Position).Magnitude > 5 then
                            hrp.CFrame = cf
                            task.wait(0.3)
                            VIM:SendKeyEvent(true, Enum.KeyCode.E, false, game)
                            task.wait(0.05)
                            VIM:SendKeyEvent(false, Enum.KeyCode.E, false, game)
                        end
                        local event = Player:FindFirstChild("muscleEvent")
                        if event then event:FireServer("rep") end
                    end
                    task.wait(0.01)
                end
            end)
        end
    end)
end

createBoulderFarm("üå¥ Jungle Boulder", CFrame.new(-8614.81, 51.90, 2677.37))
createBoulderFarm("üëë Muscle King Boulder", CFrame.new(-8942.97, 60.71, -5692.74))
createBoulderFarm("üåü Legends Boulder", CFrame.new(4188.75, 1019.85, -3905.19))
createBoulderFarm("üîÆ Mythical Boulder", CFrame.new(2667.31, 58.88, 1202.46))

local toolFolder = Main:AddFolder(" üí® OP Tools V2")

local function manageToolCombo(toolName)
    task.spawn(function()
        while _G[toolName.."On"] do
            local character = LocalPlayer.Character
            local hum = character and character:FindFirstChildOfClass("Humanoid")
            
            if character and hum then
                local punch = LocalPlayer.Backpack:FindFirstChild("Punch") or character:FindFirstChild("Punch")
                local tool = LocalPlayer.Backpack:FindFirstChild(toolName) or character:FindFirstChild(toolName)

                if punch then
                    if punch.Parent ~= character then
                        hum:EquipTool(punch)
                    end
                    if punch:FindFirstChild("attackTime") then 
                        punch.attackTime.Value = 0 
                    end
                    punch:Activate()
                end

                if tool then
                    if tool.Parent ~= character then
                        hum:EquipTool(tool)
                    end
                    
                    local event = LocalPlayer:FindFirstChild("muscleEvent")
                    if event then 
                        event:FireServer("rep") 
                    end
                    tool:Activate()
                end
            end
            task.wait(0.01)
        end
    end)
end

toolFolder:AddLabel("Choose your desired rock from the Rock Location below")

toolFolder:AddSwitch("üèãÔ∏è Weight + ü•ä Punch", function(bool)
    _G.WeightOn = bool
    if bool then manageToolCombo("Weight") end
end)

toolFolder:AddSwitch("üí™ Pushups + ü•ä Punch", function(bool)
    _G.PushupsOn = bool
    if bool then manageToolCombo("Pushups") end
end)

toolFolder:AddSwitch("ü§∏ Handstand + ü•ä Punch", function(bool)
    _G.HandstandOn = bool
    if bool then manageToolCombo("Handstand") end
end)

toolFolder:AddSwitch("üßò Situps + ü•ä Punch", function(bool)
    _G.SitupsOn = bool
    if bool then manageToolCombo("Situps") end
end)

local function gettool()
    for i, v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
        if v.Name == "Punch" and game.Players.LocalPlayer.Character:FindFirstChild("Humanoid") then
            game.Players.LocalPlayer.Character.Humanoid:EquipTool(v)
        end
    end
    
    local muscleEvent = game:GetService("Players").LocalPlayer.muscleEvent
    muscleEvent:FireServer("punch", "leftHand")
    muscleEvent:FireServer("punch", "rightHand")
    muscleEvent:FireServer("punch", "leftHand")
    muscleEvent:FireServer("punch", "rightHand")
end

local RockFolder = Main:AddFolder("üëä Rock Farm")

RockFolder:AddSwitch("üíé Tiny Rock 0", function(Value)
    selectrock = "Tiny Island Rock"
    getgenv().autoFarm = Value
    task.spawn(function()
        while getgenv().autoFarm do
            task.wait(0.01)
            if not getgenv().autoFarm then break end
            if game:GetService("Players").LocalPlayer.Durability.Value >= 0 then
                for i, v in pairs(game:GetService("Workspace").machinesFolder:GetDescendants()) do
                    if v.Name == "neededDurability" and v.Value == 0 and game.Players.LocalPlayer.Character:FindFirstChild("LeftHand") and game.Players.LocalPlayer.Character:FindFirstChild("RightHand") then
                        for _ = 1, 3 do
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.RightHand, 0)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.RightHand, 1)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.LeftHand, 0)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.LeftHand, 1)
                        end
                        gettool()
                    end
                end
            end
        end
    end)
end)

RockFolder:AddSwitch("üî• Starter Rock 100", function(Value)
    selectrock = "Starter Island Rock"
    getgenv().autoFarm = Value
    task.spawn(function()
        while getgenv().autoFarm do
            task.wait(0.01)
            if not getgenv().autoFarm then break end
            if game:GetService("Players").LocalPlayer.Durability.Value >= 100 then
                for i, v in pairs(game:GetService("Workspace").machinesFolder:GetDescendants()) do
                    if v.Name == "neededDurability" and v.Value == 100 and game.Players.LocalPlayer.Character:FindFirstChild("LeftHand") and game.Players.LocalPlayer.Character:FindFirstChild("RightHand") then
                        for _ = 1, 3 do
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.RightHand, 0)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.RightHand, 1)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.LeftHand, 0)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.LeftHand, 1)
                        end
                        gettool()
                    end
                end
            end
        end
    end)
end)

RockFolder:AddSwitch("üèùÔ∏è Legend Beach Rock 5K", function(Value)
    selectrock = "Legend Beach Rock"
    getgenv().autoFarm = Value
    task.spawn(function()
        while getgenv().autoFarm do
            task.wait(0.01)
            if not getgenv().autoFarm then break end
            if game:GetService("Players").LocalPlayer.Durability.Value >= 5000 then
                for i, v in pairs(game:GetService("Workspace").machinesFolder:GetDescendants()) do
                    if v.Name == "neededDurability" and v.Value == 5000 and game.Players.LocalPlayer.Character:FindFirstChild("LeftHand") and game.Players.LocalPlayer.Character:FindFirstChild("RightHand") then
                        for _ = 1, 3 do
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.RightHand, 0)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.RightHand, 1)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.LeftHand, 0)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.LeftHand, 1)
                        end
                        gettool()
                    end
                end
            end
        end
    end)
end)

RockFolder:AddSwitch("‚ùÑÔ∏è Frozen Rock 150K", function(Value)
    selectrock = "Frost Gym Rock"
    getgenv().autoFarm = Value
    task.spawn(function()
        while getgenv().autoFarm do
            task.wait(0.01)
            if not getgenv().autoFarm then break end
            if game:GetService("Players").LocalPlayer.Durability.Value >= 150000 then
                for i, v in pairs(game:GetService("Workspace").machinesFolder:GetDescendants()) do
                    if v.Name == "neededDurability" and v.Value == 150000 and game.Players.LocalPlayer.Character:FindFirstChild("LeftHand") and game.Players.LocalPlayer.Character:FindFirstChild("RightHand") then
                        for _ = 1, 3 do
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.RightHand, 0)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.RightHand, 1)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.LeftHand, 0)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.LeftHand, 1)
                        end
                        gettool()
                    end
                end
            end
        end
    end)
end)

RockFolder:AddSwitch("‚ú® Mythical Rock 400K", function(Value)
    selectrock = "Mythical Gym Rock"
    getgenv().autoFarm = Value
    task.spawn(function()
        while getgenv().autoFarm do
            task.wait(0.01)
            if not getgenv().autoFarm then break end
            if game:GetService("Players").LocalPlayer.Durability.Value >= 400000 then
                for i, v in pairs(game:GetService("Workspace").machinesFolder:GetDescendants()) do
                    if v.Name == "neededDurability" and v.Value == 400000 and game.Players.LocalPlayer.Character:FindFirstChild("LeftHand") and game.Players.LocalPlayer.Character:FindFirstChild("RightHand") then
                        for _ = 1, 3 do
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.RightHand, 0)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.RightHand, 1)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.LeftHand, 0)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.LeftHand, 1)
                        end
                        gettool()
                    end
                end
            end
        end
    end)
end)

RockFolder:AddSwitch("üî• Eternal Rock 750K", function(Value)
    selectrock = "Eternal Gym Rock"
    getgenv().autoFarm = Value
    task.spawn(function()
        while getgenv().autoFarm do
            task.wait(0.01)
            if not getgenv().autoFarm then break end
            if game:GetService("Players").LocalPlayer.Durability.Value >= 750000 then
                for i, v in pairs(game:GetService("Workspace").machinesFolder:GetDescendants()) do
                    if v.Name == "neededDurability" and v.Value == 750000 and game.Players.LocalPlayer.Character:FindFirstChild("LeftHand") and game.Players.LocalPlayer.Character:FindFirstChild("RightHand") then
                        for _ = 1, 3 do
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.RightHand, 0)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.RightHand, 1)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.LeftHand, 0)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.LeftHand, 1)
                        end
                        gettool()
                    end
                end
            end
        end
    end)
end)

RockFolder:AddSwitch("üèÜ Legend Rock 1M", function(Value)
    selectrock = "Legend Gym Rock"
    getgenv().autoFarm = Value
    task.spawn(function()
        while getgenv().autoFarm do
            task.wait(0.01)
            if not getgenv().autoFarm then break end
            if game:GetService("Players").LocalPlayer.Durability.Value >= 1000000 then
                for i, v in pairs(game:GetService("Workspace").machinesFolder:GetDescendants()) do
                    if v.Name == "neededDurability" and v.Value == 1000000 and game.Players.LocalPlayer.Character:FindFirstChild("LeftHand") and game.Players.LocalPlayer.Character:FindFirstChild("RightHand") then
                        for _ = 1, 3 do
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.RightHand, 0)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.RightHand, 1)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.LeftHand, 0)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.LeftHand, 1)
                        end
                        gettool()
                    end
                end
            end
        end
    end)
end)

RockFolder:AddSwitch("üëë Muscle King Rock 5M", function(Value)
    selectrock = "Muscle King Gym Rock"
    getgenv().autoFarm = Value
    task.spawn(function()
        while getgenv().autoFarm do
            task.wait(0.01)
            if not getgenv().autoFarm then break end
            if game:GetService("Players").LocalPlayer.Durability.Value >= 5000000 then
                for i, v in pairs(game:GetService("Workspace").machinesFolder:GetDescendants()) do
                    if v.Name == "neededDurability" and v.Value == 5000000 and game.Players.LocalPlayer.Character:FindFirstChild("LeftHand") and game.Players.LocalPlayer.Character:FindFirstChild("RightHand") then
                        for _ = 1, 3 do
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.RightHand, 0)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.RightHand, 1)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.LeftHand, 0)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.LeftHand, 1)
                        end
                        gettool()
                    end
                end
            end
        end
    end)
end)

RockFolder:AddSwitch("üå¥ Jungle Rock 10M", function(Value)
    selectrock = "Ancient Jungle Rock"
    getgenv().autoFarm = Value
    task.spawn(function()
        while getgenv().autoFarm do
            task.wait(0.01)
            if not getgenv().autoFarm then break end
            if game:GetService("Players").LocalPlayer.Durability.Value >= 10000000 then
                for i, v in pairs(game:GetService("Workspace").machinesFolder:GetDescendants()) do
                    if v.Name == "neededDurability" and v.Value == 10000000 and game.Players.LocalPlayer.Character:FindFirstChild("LeftHand") and game.Players.LocalPlayer.Character:FindFirstChild("RightHand") then
                        for _ = 1, 3 do
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.RightHand, 0)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.RightHand, 1)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.LeftHand, 0)
                            firetouchinterest(v.Parent.Rock, game:GetService("Players").LocalPlayer.Character.LeftHand, 1)
                        end
                        gettool()
                    end
                end
            end
        end
    end)
end)

Main:AddSwitch("ü•ö Auto Eat Egg (30 Min)", function(state)
    autoEatEnabled = state
    if state then
        task.spawn(function()
            while autoEatEnabled do
                local egg = player.Backpack:FindFirstChild("Protein Egg")
                if egg then
                    egg.Parent = player.Character
                    pcall(function() egg:Activate() end)
                end
                task.wait(1800)
            end
        end)
    end
end)

Main:AddSwitch("ü•ö Auto Eat Egg (60 Min)", function(state)
    autoEatEnabled = state
    if state then
        task.spawn(function()
            while autoEatEnabled do
                local egg = player.Backpack:FindFirstChild("Protein Egg")
                if egg then
                    egg.Parent = player.Character
                    pcall(function() egg:Activate() end)
                end
                task.wait(3600)
            end
        end)
    end
end)

local rebirths = window:AddTab("Rebirths")

rebirths:AddTextBox("üî¢ Rebirth Target", function(text)
    local newValue = tonumber(text)
    if newValue and newValue > 0 then
        targetRebirthValue = newValue
        updateStats() 
        
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Updated Goal",
            Text = "New goal: " .. tostring(targetRebirthValue) .. " rebirths",
            Duration = 0
        })
    else
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Size",
            Text = "Put a size larger than 0",
            Duration = 0
        })
    end
end)

local infiniteSwitch

local targetSwitch = rebirths:AddSwitch("üîÑ Auto Rebirth Target", function(bool)
    _G.targetRebirthActive = bool
    
    if bool then
        if _G.infiniteRebirthActive and infiniteSwitch then
            infiniteSwitch:Set(false)
            _G.infiniteRebirthActive = false
        end
        
        spawn(function()
            while _G.targetRebirthActive and wait(0.1) do
                local currentRebirths = game.Players.LocalPlayer.leaderstats.Rebirths.Value
                
                if currentRebirths >= targetRebirthValue then
                    targetSwitch:Set(false)
                    _G.targetRebirthActive = false
                    
                    game:GetService("StarterGui"):SetCore("SendNotification", {
                        Title = "Goal Reached",
                        Text = "You Have Reached" .. tostring(targetRebirthValue) .. " renacimientos",
                        Duration = 5
                    })
                    
                    break
						end
						
                game:GetService("ReplicatedStorage").rEvents.rebirthRemote:InvokeServer("rebirthRequest")
            end
        end)
    end
end, "automatic rebirth until reaching the goal")

infiniteSwitch = rebirths:AddSwitch("‚ôæÔ∏è Auto Rebirth (Infinitely)", function(bool)
    _G.infiniteRebirthActive = bool
    
    if bool then
        if _G.targetRebirthActive and targetSwitch then
            targetSwitch:Set(false)
            _G.targetRebirthActive = false
        end
        
        spawn(function()
            while _G.infiniteRebirthActive and wait(0.1) do
                game:GetService("ReplicatedStorage").rEvents.rebirthRemote:InvokeServer("rebirthRequest")
            end
        end)
    end
end, "rebirth infinitely")

local sizeSwitch = rebirths:AddSwitch("üìè Auto Size 2", function(bool)
    _G.autoSizeActive = bool
    
    if bool then
        spawn(function()
            while _G.autoSizeActive and wait() do
                game:GetService("ReplicatedStorage").rEvents.changeSpeedSizeRemote:InvokeServer("changeSize", 2)
            end
        end)
    end
end, "Size 2")

local teleportSwitch = rebirths:AddSwitch("üëë Auto TP Muscle King", function(bool)
    _G.teleportActive = bool
    
    if bool then
        spawn(function()
            while _G.teleportActive and wait() do
                if game.Players.LocalPlayer.Character then
                    game.Players.LocalPlayer.Character:MoveTo(Vector3.new(-8748.52, 120.58, -5861.44))
                end
            end
        end)
    end
end, "Tp to Mk")

rebirths:AddSwitch("ü•ö Auto Eat Egg (30 Min)", function(state)
    autoEatEnabled = state
    if state then
        task.spawn(function()
            while autoEatEnabled do
                local egg = player.Backpack:FindFirstChild("Protein Egg")
                if egg then
                    egg.Parent = player.Character
                    pcall(function() egg:Activate() end)
                end
                task.wait(1800)
            end
        end)
    end
end)

rebirths:AddSwitch("ü•ö Auto Eat Egg (60 Min)", function(state)
    autoEatEnabled = state
    if state then
        task.spawn(function()
            while autoEatEnabled do
                local egg = player.Backpack:FindFirstChild("Protein Egg")
                if egg then
                    egg.Parent = player.Character
                    pcall(function() egg:Activate() end)
                end
                task.wait(3600)
            end
        end)
    end
end)

rebirths:AddSwitch("üëÅÔ∏è‚Äçüó®Ô∏è Hide All Frames", function(bool)
    local rSto = game:GetService("ReplicatedStorage")
    for _, obj in pairs(rSto:GetChildren()) do
        if obj.Name:match("Frame$") then
            obj.Visible = not bool
        end
    end
end)

local selectedUltimate = nil
local autoBuyActive = false
local ultimateRemote = game:GetService("ReplicatedStorage"):WaitForChild("rEvents"):WaitForChild("ultimatesRemote")

local upgradeDropdown = rebirths:AddDropdown("üì¶ Select Ultƒ±mate", function(choice)
    selectedUltimate = choice
end)

local items = {
    "RepSpeed", "PetSlot", "ItemCapacity", "DailySpin", 
    "ChestRewards", "QuestRewards", "MuscleMind", "JungleSwift", 
    "InfernalHealth", "GalaxyGains", "DemonDamage", "GoldenRebirth"
}

for _, itemName in ipairs(items) do
    upgradeDropdown:Add(itemName)
end

rebirths:AddSwitch("üîÑ Auto Buy Selected", function(state)
    autoBuyActive = state
    if autoBuyActive then
        task.spawn(function()
            while autoBuyActive do
                if selectedUltimate then
                    pcall(function()
                        ultimateRemote:InvokeServer("upgradeUltimate", selectedUltimate)
                    end)
                end
                task.wait(0.5)
            end
        end)
    end
end)

local LookDura = window:AddTab("Stats V2")
local SelectPlayerName = ""

local StatsFolder = LookDura:AddFolder("Stats V2")

local PlayerDrop = StatsFolder:AddDropdown("Select Player", function(Value)
    SelectPlayerName = Value:match("| (.+)")
    previousValues = {}
end)

local Playerslist = {}
for _, Plr in pairs(game:GetService("Players"):GetPlayers()) do
    local displayName = Plr.DisplayName .. " | " .. Plr.Name
    table.insert(Playerslist, displayName)
end
for _, AddPlr in ipairs(Playerslist) do
    PlayerDrop:Add(AddPlr)
end

local function FormatNumberWithCommas(number)
    local formatted = tostring(number):reverse():gsub("(%d%d%d)", "%1,"):reverse()
    return formatted:gsub("^,", "")
end

local function FormatAbbreviated(number)
    local abbreviations = {"", "K", "M", "B", "T", "Qa", "Qi"}
    local abbreviationIndex = 1
    while number >= 1000 and abbreviationIndex < #abbreviations do
        number = number / 1000
        abbreviationIndex = abbreviationIndex + 1
    end
    return string.format("%.2f", number) .. abbreviations[abbreviationIndex]
end

local function FormatDisplay(value)
    local normal = FormatNumberWithCommas(value)
    local abbreviated = FormatAbbreviated(value)
    return "[ " .. normal .. " | " .. abbreviated .. " ]"
end

local Update = StatsFolder:AddLabel("üí™ Strength: -")
local Update1 = StatsFolder:AddLabel("üíé Gems: -")
local Update2 = StatsFolder:AddLabel("üîÑ Rebirths: -")
local Update3 = StatsFolder:AddLabel("‚ö° Agility: -")
local Update4 = StatsFolder:AddLabel("üõ°Ô∏è Durability: -")
local Update5 = StatsFolder:AddLabel("üíÄ Kills: -")
local Update9 = StatsFolder:AddLabel("üìç Current Map: -")

StatsFolder:AddLabel("------------------------------")
local EnemyHealthLabel = StatsFolder:AddLabel("Target Health: 0 / 0")
local MyDamageLabel = StatsFolder:AddLabel("Your Damage: 0")
local FinalHTKLabel = StatsFolder:AddLabel("Hits To Kill: 0")
StatsFolder:AddLabel("------------------------------")

task.spawn(function()
    while task.wait(0.5) do
        if SelectPlayerName ~= "" then
            local player = game.Players:FindFirstChild(SelectPlayerName)
            local localPlayer = game.Players.LocalPlayer
            
            if player and player.Parent and localPlayer then
                if player:FindFirstChild("Gems") then Update1.Text = "üíé Gems: " .. FormatDisplay(player.Gems.Value) end
                if player:FindFirstChild("Agility") then Update3.Text = "‚ö° Agility: " .. FormatDisplay(player.Agility.Value) end
                if player:FindFirstChild("Durability") then Update4.Text = "üõ°Ô∏è Durability: " .. FormatDisplay(player.Durability.Value) end
                if player:FindFirstChild("leaderstats") and player.leaderstats:FindFirstChild("Kills") then Update5.Text = "üíÄ Kills: " .. FormatDisplay(player.leaderstats.Kills.Value) end
                if player:FindFirstChild("currentMap") then Update9.Text = "üìç Current Map: " .. tostring(player.currentMap.Value) end
                
                local leaderstats = player:FindFirstChild("leaderstats")
                if leaderstats then
                    if leaderstats:FindFirstChild("Strength") then Update.Text = "üí™ Strength: " .. FormatDisplay(leaderstats.Strength.Value) end
                    if leaderstats:FindFirstChild("Rebirths") then Update2.Text = "üîÑ Rebirths: " .. FormatDisplay(leaderstats.Rebirths.Value) end
                end

                local char = player.Character
                local myStr = (localPlayer:FindFirstChild("leaderstats") and localPlayer.leaderstats:FindFirstChild("Strength") and localPlayer.leaderstats.Strength.Value) or 1
                if char and char:FindFirstChild("Humanoid") then
                    local currentHP = math.floor(char.Humanoid.Health)
                    local maxHP = math.floor(char.Humanoid.MaxHealth)
                    EnemyHealthLabel.Text = "Target Health: [ " .. FormatNumberWithCommas(currentHP) .. " / " .. FormatNumberWithCommas(maxHP) .. " ]"
                    MyDamageLabel.Text = "Your Damage: " .. FormatAbbreviated(myStr)
                    local htkCalc = math.ceil(currentHP / myStr)
                    if currentHP <= 0 then
                        FinalHTKLabel.Text = "Hits To Kill: DEAD"
                    else
                        FinalHTKLabel.Text = "Hits To Kill: " .. FormatNumberWithCommas(htkCalc)
                    end
                end
            end
        end
    end
end)

local SpyFolder = LookDura:AddFolder("Spy Stats V2")

local PlayerDrop = SpyFolder:AddDropdown("Select Player", function(Value)
    SelectPlayerName = Value:match("| (.+)")
    strengthHistory = {}
    durabilityHistory = {}
    startTime = tick()
end)

local Playerslist = {}
for _, Plr in pairs(game:GetService("Players"):GetPlayers()) do
    table.insert(Playerslist, Plr.DisplayName .. " | " .. Plr.Name)
end
for _, AddPlr in ipairs(Playerslist) do
    PlayerDrop:Add(AddPlr)
end

local function formatNumber(num)
    if num >= 1e15 then return string.format("%.2fQa", num/1e15) end
    if num >= 1e12 then return string.format("%.2fT", num/1e12) end
    if num >= 1e9 then return string.format("%.2fB", num/1e9) end
    if num >= 1e6 then return string.format("%.2fM", num/1e6) end
    if num >= 1e3 then return string.format("%.2fK", num/1e3) end
    return string.format("%.2f", num)
end

local StrengthPaceLabel = SpyFolder:AddLabel("üöÄ Str/Hour: Calculating...")
local DurabilityPaceLabel = SpyFolder:AddLabel("üõ°Ô∏è Dura/Hour: Calculating...")
local RebirthPaceLabel = SpyFolder:AddLabel("üîÑ Reb/Day: Calculating...")
local TargetTimeLabel = SpyFolder:AddLabel("‚è±Ô∏è Stalk Time: 0s")

local strengthHistory = {}
local durabilityHistory = {}
local startTime = tick()
local calculationInterval = 60

task.spawn(function()
    while task.wait(1) do
        if SelectPlayerName ~= "" then
            local player = game.Players:FindFirstChild(SelectPlayerName)
            if player and player.Parent then
                local leaderstats = player:FindFirstChild("leaderstats")
                local currentStr = (leaderstats and leaderstats:FindFirstChild("Strength") and leaderstats.Strength.Value) or 0
                local currentDura = (player:FindFirstChild("Durability") and player.Durability.Value) or 0
                local currentReb = (leaderstats and leaderstats:FindFirstChild("Rebirths") and leaderstats.Rebirths.Value) or 0
                local currentTime = tick()
                local elapsed = currentTime - startTime

                TargetTimeLabel.Text = "‚è±Ô∏è Stalk Time: " .. math.floor(elapsed) .. "s"

                table.insert(strengthHistory, {time = currentTime, value = currentStr})
                table.insert(durabilityHistory, {time = currentTime, value = currentDura})

                while #strengthHistory > 0 and currentTime - strengthHistory[1].time > calculationInterval do
                    table.remove(strengthHistory, 1)
                end
                while #durabilityHistory > 0 and currentTime - durabilityHistory[1].time > calculationInterval do
                    table.remove(durabilityHistory, 1)
                end

                if #strengthHistory >= 2 then
                    local sDelta = strengthHistory[#strengthHistory].value - strengthHistory[1].value
                    local timeDiff = strengthHistory[#strengthHistory].time - strengthHistory[1].time
                    if sDelta > 0 and timeDiff > 0 then
                        local sPace = (sDelta / timeDiff) * 3600
                        StrengthPaceLabel.Text = "üöÄ Str/Hour: " .. formatNumber(sPace)
                    end
                end

                if #durabilityHistory >= 2 then
                    local dDelta = durabilityHistory[#durabilityHistory].value - durabilityHistory[1].value
                    local timeDiff = durabilityHistory[#durabilityHistory].time - durabilityHistory[1].time
                    if dDelta > 0 and timeDiff > 0 then
                        local dPace = (dDelta / timeDiff) * 3600
                        DurabilityPaceLabel.Text = "üõ°Ô∏è Dura/Hour: " .. formatNumber(dPace)
                    end
                end

                if elapsed > 10 and currentReb > 0 then
                    local rPaceDay = (currentReb / elapsed) * 86400
                    RebirthPaceLabel.Text = "üîÑ Reb/Day: " .. formatNumber(rPaceDay)
                end
            end
        end
    end
end)

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer

local Gift = window:AddTab("Gift")

Gift:AddLabel("ü•ö Gifting Protein egg:").TextSize = 22
local proteinEggLabel = Gift:AddLabel("Protein Eggs: 0")
proteinEggLabel.TextSize = 20

local selectedEggPlayer = nil
local eggCount = 0

local eggDropdown = Gift:AddDropdown("Select Player", function(selectedDisplayName)
    for _, plr in ipairs(Players:GetPlayers()) do
        if plr.DisplayName == selectedDisplayName then
            selectedEggPlayer = plr
            break
        end
    end
end)

local function refreshEggDropdown()
    if eggDropdown.Clear then eggDropdown:Clear() end
    for _, plr in ipairs(Players:GetPlayers()) do
        if plr ~= LocalPlayer then
            eggDropdown:Add(plr.DisplayName)
        end
    end
end

refreshEggDropdown()
Players.PlayerAdded:Connect(refreshEggDropdown)
Players.PlayerRemoving:Connect(refreshEggDropdown)

Gift:AddTextBox("Amount of Eggs", function(text)
    eggCount = tonumber(text) or 0
end)

Gift:AddButton("ü•ö Gift Eggs", function()
    if selectedEggPlayer and eggCount > 0 then
        for i = 1, eggCount do
            local egg = (LocalPlayer:FindFirstChild("consumablesFolder") and LocalPlayer.consumablesFolder:FindFirstChild("Protein Egg")) or LocalPlayer.Backpack:FindFirstChild("Protein Egg")
            if egg then
                ReplicatedStorage.rEvents.giftRemote:InvokeServer("giftRequest", selectedEggPlayer, egg)
                task.wait(0.1)
            else
                break
            end
        end
    end
end)

Gift:AddLabel("üçç Gifting Tropical Shakes:").TextSize = 22
local tropicalShakeLabel = Gift:AddLabel("Tropical Shakes: 0")
tropicalShakeLabel.TextSize = 18

local selectedShakePlayer = nil
local shakeCount = 0

local shakeDropdown = Gift:AddDropdown("Select Player", function(selectedDisplayName)
    for _, plr in ipairs(Players:GetPlayers()) do
        if plr.DisplayName == selectedDisplayName then
            selectedShakePlayer = plr
            break
        end
    end
end)

local function refreshShakeDropdown()
    if shakeDropdown.Clear then shakeDropdown:Clear() end
    for _, plr in ipairs(Players:GetPlayers()) do
        if plr ~= LocalPlayer then
            shakeDropdown:Add(plr.DisplayName)
        end
    end
end

refreshShakeDropdown()
Players.PlayerAdded:Connect(refreshShakeDropdown)
Players.PlayerRemoving:Connect(refreshShakeDropdown)

Gift:AddTextBox("Tropical Shakes gift", function(text)
    shakeCount = tonumber(text) or 0
end)

Gift:AddButton("Gift Tropical Shakes", function()
    if selectedShakePlayer and shakeCount > 0 then
        for i = 1, shakeCount do
            local shake = (LocalPlayer:FindFirstChild("consumablesFolder") and LocalPlayer.consumablesFolder:FindFirstChild("Tropical Shake")) or LocalPlayer.Backpack:FindFirstChild("Tropical Shake")
            if shake then
                ReplicatedStorage.rEvents.giftRemote:InvokeServer("giftRequest", selectedShakePlayer, shake)
                task.wait(0.1)
            else
                break
            end
        end
    end
end)

local function updateItemCount()
    local pEggCount = 0
    local tShakeCount = 0
    local backpack = LocalPlayer:FindFirstChild("Backpack")
    local folder = LocalPlayer:FindFirstChild("consumablesFolder")
    
    local allItems = {}
    if backpack then for _, v in pairs(backpack:GetChildren()) do table.insert(allItems, v) end end
    if folder then for _, v in pairs(folder:GetChildren()) do table.insert(allItems, v) end end

    for _, item in ipairs(allItems) do
        if item.Name == "Protein Egg" then
            pEggCount = pEggCount + 1
        elseif item.Name == "Tropical Shake" or item.Name:find("nas") then
            tShakeCount = tShakeCount + 1
        end
    end

    proteinEggLabel.Text = "Protein Eggs: " .. pEggCount
    tropicalShakeLabel.Text = "Tropical Shakes: " .. tShakeCount
end

task.spawn(function()
    while true do
        updateItemCount()
        task.wait(0.5)
    end
end)

